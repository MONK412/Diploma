# Планирование

## 1. Перечень автоматизируемых сценариев

- #### UI тесты
      Данные для валидной карты: номер карты "4444 4444 4444 4441", месяц и год будут сгенерированы faker (условие - 
      дата не должна быть просрочена), владелец - генерация имени с помощью faker (латынь, возможны пробелы и тире), 
      CVC - генерация с помощью faker (3 цифры).
      Данные для заблокированной карты те же, кроме номера карты - номер карты "4444 4444 4444 4442".
      Далее указаны данные для примера.

  ##### 1. Позитивные (просто покупка) 
      Предусловие - Заходим на сайт http://localhost:8080/ и нажимаем купить.
- 
    ###### - Покупка тура валидной картой:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "24", владелец "Rustam", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение "Успешно! Операция одобрена банком".
    - В БД есть данные о покупке.
    ###### - Покупка тура заблокированной картой:
    - Вводим данные карты (номер карты "4444 4444 4444 4442", месяц "08", год "24", владелец "Rustam", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение, что карта заблокирована.
    - В БД нет данных о покупке.
  
  ##### 2. Позитивные (покупка в кредит)
      Предусловие - Заходим на сайт http://localhost:8080/ и нажимаем купить в кредит.

   ###### - Покупка тура валидной картой:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "24", владелец "Rustam", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение "Успешно! Операция одобрена банком".
    - В БД есть данные о покупке.
    ###### - Покупка тура заблокированной картой:
    - Вводим данные карты (номер карты "4444 4444 4444 4442", месяц "08", год "24", владелец "Rustam", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение, что карта заблокирована.
    - В БД нет данных о покупке.

  ##### 3. Негативные с валидной картой (просто покупка)
      Предусловие - Заходим на сайт http://localhost:8080/ и нажимаем купить.
- 
    ###### - Покупка тура валидной картой, не заполнив графу месяц:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "", год "24", владелец "Rustam", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение, что необходимо заполнить графу месяц.
    ###### - Покупка тура валидной картой, но месяц указан больше 12:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "13", год "24", владелец "Rustam", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение, что месяц указан не верно.
    ###### - Покупка тура валидной картой, но в графе месяц использовать не числа:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "АА", год "24", владелец "Rustam", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение, что месяц указан не верно.
    ###### - Покупка тура валидной картой, не заполнив графу год:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "", владелец "Rustam", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение, что необходимо заполнить графу год.
    ###### - Покупка тура валидной картой, год, меньше, чем нынешний:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "10", владелец "Rustam", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение, что год указан не верно.
    ###### - Покупка тура валидной картой, но в графе год используем не числа:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "-е", владелец "Rustam", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение, что год указан не верно.
    ###### - Покупка тура валидной картой, но она просрочена по дате:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "02", год "22", владелец "Rustam", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение, что месяц указан не верно.
    ###### - Покупка тура валидной картой, пустое поле Владелец:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "24", владелец "", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение, что необходимо заполнить графу владелец.
    ###### - Покупка тура валидной картой, в поле Владелец используем русские буквы, пробелы, знаки препинания, числа:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "24", владелец "Апв  --5,", CVC "999").
    - Нажимаем продолжить.
    - Получаем сообщение, что графа владелец заполнена не верно.
   ###### - Покупка тура валидной картой, с пустым CVC:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "24", владелец "Rustam", CVC "").
    - Нажимаем продолжить.
    - Получаем сообщение, что необходимо заполнить CVC.
   ###### - Покупка тура валидной картой, в графе CVC ввод символов, букв:
    - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "24", владелец "Rustam", CVC "пв-").
    - Нажимаем продолжить.
    - Получаем сообщение, что графа CVC заполнена неверно.

##### 4. Негативные с валидной картой (покупка в кредит)
      Предусловие - Заходим на сайт http://localhost:8080/ и нажимаем купить в кредит.

###### - Покупка тура валидной картой, не заполнив графу месяц:
  - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "", год "24", владелец "Rustam", CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что необходимо заполнить графу месяц.
###### - Покупка тура валидной картой, но месяц указан больше 12:
  - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "13", год "24", владелец "Rustam", CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что месяц указан не верно.
###### - Покупка тура валидной картой, но в графе месяц использовать не числа:
  - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "АА", год "24", владелец "Rustam", CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что месяц указан не верно.
###### - Покупка тура валидной картой, не заполнив графу год:
  - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "", владелец "Rustam", CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что необходимо заполнить графу год.
###### - Покупка тура валидной картой, указав год, меньше, чем нынешний:
  - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "10", владелец "Rustam", CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что год указан не верно.
###### - Покупка тура валидной картой, но в графе год используем не числа:
  - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "-е", владелец "Rustam", CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что год указан не верно.
###### - Покупка тура валидной картой, но она просрочена по дате:
  - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "02", год "22", владелец "Rustam", CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что месяц указан не верно.
###### - Покупка тура валидной картой, пустое поле Владелец:
  - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "24", владелец "", CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что необходимо заполнить графу владелец.
###### - Покупка тура валидной картой, в поле Владелец используем русские буквы, пробелы, знаки препинания, числа:
  - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "24", владелец "Апв  --5,", CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что графа владелец заполнена не верно в кредит.
###### - Покупка тура валидной картой, с пустым CVC:
  - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "24", владелец "Rustam", CVC "").
  - Нажимаем продолжить.
  - Получаем сообщение, что необходимо заполнить CVC.
###### - Покупка тура валидной картой, в графе CVC ввод символов, букв:
  - Вводим данные карты (номер карты "4444 4444 4444 4441", месяц "08", год "24", владелец "Rustam", CVC "пв-").
  - Нажимаем продолжить.
  - Получаем сообщение, что графа CVC заполнена неверно.

  ##### 5. Негативные со случайной картой (просто покупка):
      Предусловие - Заходим на сайт http://localhost:8080/ и нажимаем купить.

   ###### - Покупка тура случайной картой(16 символов):
  - Вводим данные случайной карты (номер карты "4444 4444 4444 4443", месяц "08", год "24", владелец "Rustam", 
CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что карты не зарегистрирована.
  - В БД нет данных о покупке.
   ###### - Покупка тура, в поле карта менее 16 символов:
   - Вводим данные случайной карты (номер карты "4444 4444 4444", месяц "08", год "24", владелец "Rustam", CVC "999").
   - Нажимаем продолжить.
   - Получаем сообщение, что необходимо ввести правильный номерк карты.
   - В БД нет данных о покупке.
  ###### - Покупка тура, в поле карта более 16 символов:
- Вводим данные случайной карты (номер карты "4444 4444 4444 4444 4", месяц "08", год "24", владелец "Rustam", 
CVC "999").
- Нажимаем продолжить.
- Получаем сообщение, что необходимо ввести правильный номер карты.
- В БД нет данных о покупке.
###### - Покупка тура, в поле карта вводим буквы:
- Вводим данные случайной карты (номер карты "авпарыврыраврdfgdfgdgd", месяц "08", год "24", владелец "Rustam",
  CVC "999").
- Нажимаем продолжить.
- Получаем сообщение, что необходимо ввести правильный номер карты.
- В БД нет данных о покупке.

  ##### 6. Негативные со случайной картой (покупка в кредит):
      Предусловие - Заходим на сайт http://localhost:8080/ и нажимаем купить в кредит.

  ###### - Покупка тура случайной картой (16 символов):
  - Вводим данные случайной карты (номер карты "4444 4444 4444 4443", месяц "08", год "24", владелец "Rustam", 
CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что карты не зарегистрирована.
  - В БД нет данных о покупке.
  ###### - Покупка тура, в поле карта менее 16 символов:
  - Вводим данные случайной карты (номер карты "4444 4444 4444", месяц "08", год "24", владелец "Rustam", CVC "999").
  - Нажимаем продолжить.
  - Получаем сообщение, что необходимо ввести правильный номерк карты.
  - В БД нет данных о покупке.
###### - Покупка тура, в поле карта более 16 символов:
- Вводим данные случайной карты (номер карты "4444 4444 4444 4444 4", месяц "08", год "24", владелец "Rustam",
  CVC "999").
- Нажимаем продолжить.
- Получаем сообщение, что необходимо ввести правильный номер карты.
- В БД нет данных о покупке.
###### - Покупка тура, в поле карта вводим буквы:
- Вводим данные случайной карты (номер карты "авпарыврыраврdfgdfgdgd", месяц "08", год "24", владелец "Rustam",
  CVC "999").
- Нажимаем продолжить.
- Получаем сообщение, что необходимо ввести правильный номер карты.
- В БД нет данных о покупке.
  
  - #### API тесты (Проверяем функционал системы - покупка тура)
  
    ##### Позитивное тестирование
  После ввода валидных данных и нажатия кнопки "купить/купить в кредит":
  - проверяем код состояния (HTTP 2XX); команда POST для отправки данных карты, команда GET - проверка полученного 
  результата 
  - подтверждаем загрузку ответа; должен быть правильно сформулированный объект JSON
  - проверяем состояние; действие в системе должно быть выполнено правильно; покупка совершена

  После ввода данных данных заблокированной карты и нажатия кнопки "купить/купить в кредит":
  - проверяем код состояния (HTTP 2XX); командой POST отправляем данные карты, командой GET проверяем полученный
    результат
  - подтверждаем загрузку ответа; должен быть правильно сформулированный объект JSON
  - проверяем состояние; действие в системе не должно быть выполнено, так как карта заблокирована, платёж не проходит

  После ввода данных данных случайной карты и нажатия кнопки "купить/купить в кредит":
  - проверяем код состояния (HTTP 2XX); командой POST отправляем данные карты, командой GET проверяем полученный
    результат
  - подтверждаем загрузку ответа; должен быть правильно сформулированный объект JSON
  - проверяем состояние; действие в системе не должно быть выполнено, так как карты нет в системе, платёж не проходит

    ##### Негативное тестирование
  Пробуем вводить данные, указанные при UI тестах.
  Запрос не должен проходить, дествие блокируется ещё на этапе нажатия на кнопку "купить/купить в кредит"
  - проверяем код состояния; никого ответа быть не должно
  
## 2. Перечень используемых инструментов

* IntelliJ IDEA Community Edition. Интегрированная среда разработки программного обеспечения (Основа, используем для 
написания тестов).
* Github. Dеб-сервис для хостинга IT-проектов и их совместной разработки.
* Gradle. Система автоматической сборки.
* JUnit. Фреймворк для модульного тестирования программного обеспечения на языке Java.
* Selenide. Фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver.
* Docker. Программное обеспечение для автоматизации развёртывания и управления приложениями в средах с поддержкой 
контейнеризации (MySQL, Postgres, Node.js).
* Allure. Фреймворк для создания отчетов.

## 3. Перечень и описание возможных рисков при автоматизации

* Могут возникнуть проблемы с настройкой приложения и БД.
* Будем работать не с конечным продуктом, а с симулятором, можно пропустить ошибки при использовании реальных 
банковских приложений.
* Может не работать начальный функционал, из-за чего дальнейшая автоматизация затруднительна.

## 4. Интервальная оценка с учётом рисков (в часах)
* Подготовка окружения ~ 10 часов.
* Написание автотестов, тестирование и отладка автотестов ~ 40 часов.
* Формирование и анализ отчетов ~ 10 часов.

## 5. План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)
1. Подготовка окружения до 18 сентября.
1. Авто-тесты до 26 сентября
1. Финальнай отчёт до 30 сентября.